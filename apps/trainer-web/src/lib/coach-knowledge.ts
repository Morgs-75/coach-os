// Comprehensive knowledge repository for AI Business Coach
// This serves as a rich database of business coaching content

export const GOAL_SETTING = {
  frameworks: {
    smart: {
      title: "SMART Goals Framework",
      description: "The foundation of effective goal setting",
      content: `
**Specific** - Define exactly what you want to achieve
- Bad: "Get more clients"
- Good: "Acquire 10 new personal training clients"

**Measurable** - Attach numbers to track progress
- Track weekly/monthly progress
- Use Coach OS dashboards to monitor

**Achievable** - Stretch but realistic given your resources
- Consider your current capacity
- Factor in marketing budget and time

**Relevant** - Aligned with your bigger vision
- Does this goal serve your 5-year plan?
- Will this goal move the needle?

**Time-bound** - Set clear deadlines
- Break into 90-day sprints
- Weekly milestones keep momentum`,
    },
    okr: {
      title: "OKR Framework",
      description: "Objectives and Key Results for ambitious growth",
      content: `
**Objective** - Qualitative, inspirational goal
Example: "Become the go-to trainer in my area"

**Key Results** - Measurable outcomes (3-5 per objective)
1. Acquire 15 new clients this quarter
2. Achieve 4.9+ star rating on Google
3. Get featured in local fitness publication
4. Build referral program with 30% participation
5. Launch signature program with 10 enrollments`,
    },
    backwards: {
      title: "Backwards Goal Setting",
      description: "Start with your dream outcome and work backwards",
      content: `
**Step 1: Define Your Ultimate Vision (5 years)**
- Annual revenue target
- Client capacity
- Lifestyle goals (hours, freedom)

**Step 2: Work Backwards to Year 1**
- What must be true in Year 4 to reach Year 5?
- What must be true in Year 3? Year 2? Year 1?

**Step 3: Break Year 1 into Quarters**
- Q1: Foundation (systems, positioning)
- Q2: Growth (marketing, acquisition)
- Q3: Scale (processes, possibly hiring)
- Q4: Optimize (review, plan next year)

**Step 4: Monthly Milestones**
- Each month should have 1-3 key milestones
- Review weekly, adjust as needed`,
    },
  },
  metrics: {
    title: "Key Business Metrics to Track",
    content: `
**Revenue Metrics**
- Monthly Recurring Revenue (MRR)
- Average Revenue Per Client (ARPC)
- Client Lifetime Value (LTV)
- Revenue per hour of work

**Client Metrics**
- Total active clients
- New clients per month
- Churn rate (clients lost)
- Net client growth (new - lost)

**Marketing Metrics**
- Lead generation rate
- Lead to consultation rate
- Consultation to client rate
- Referral rate

**Operational Metrics**
- Utilization rate (hours trained vs available)
- Session attendance rate
- Client satisfaction score
- Response time to inquiries`,
  },
};

export const SELLING = {
  psychology: {
    title: "Psychology of Selling Training Services",
    content: `
**People Buy Transformation, Not Sessions**
- Don't sell "10 sessions for $500"
- Sell "Lose 10kg and feel confident at the beach"
- Focus on the outcome they truly want

**The Decision Hierarchy**
1. Emotional decision (desire for change)
2. Logical justification (value, results)
3. Fear of loss (scarcity, urgency)

**Building Trust Quickly**
- Share relevant credentials
- Show social proof (testimonials, transformations)
- Demonstrate expertise in the consultation
- Be genuine and listen more than talk`,
  },
  consultation: {
    title: "The Perfect Sales Consultation",
    content: `
**Pre-Consultation (5 mins)**
- Review their inquiry details
- Prepare relevant success stories
- Set up your space professionally

**1. Rapport Building (5 mins)**
- Warm welcome, offer water
- Light conversation to relax them
- Show genuine interest in their life

**2. Discovery Phase (15 mins)**
The most important phase - let them talk
Questions to ask:
- "What made you reach out today?"
- "What have you tried before?"
- "What's holding you back?"
- "If we could wave a magic wand, what would change?"
- "On a scale of 1-10, how committed are you to this change?"

**3. Paint the Vision (5 mins)**
- Reflect back what they told you
- Help them visualize success
- Connect emotionally to their goal

**4. Present the Solution (10 mins)**
- Position your service as the bridge
- Share relevant success stories
- Present 2-3 package options
- Recommend one (not the cheapest)

**5. Handle Objections (variable)**
Common objections and responses:
- "Too expensive" → "What's it costing you to stay where you are?"
- "I need to think" → "Of course, what specifically do you need to consider?"
- "I'm not sure it'll work" → "What would convince you? Let me show you similar cases"

**6. Close (5 mins)**
- "Based on what you've shared, I recommend [package]"
- "When would you like to start?"
- Handle payment professionally
- Book the first session immediately`,
  },
  pricing: {
    title: "Strategic Pricing Principles",
    content: `
**Price Positioning**
- Underpricing signals low quality
- Price reflects perceived value
- Higher prices attract more committed clients

**Pricing Structures That Work**
1. **Session Packs** (10, 20, 30 sessions)
   - Discount increases with commitment
   - Creates urgency to use sessions

2. **Monthly Membership**
   - Predictable revenue
   - Set sessions per week
   - Best for retention

3. **Program-Based**
   - 12-week transformation
   - Fixed price, specific outcome
   - Highest perceived value

4. **Hybrid Model**
   - Base monthly fee + optional add-ons
   - Maximizes flexibility and revenue

**Raising Prices**
- Grandfather existing clients
- Announce 30 days in advance
- Frame as investment in quality
- Never apologize for your worth`,
  },
  objections: {
    title: "Mastering Objection Handling",
    content: `
**"It's too expensive"**
Response framework: Feel, Felt, Found
"I understand how you feel. Many of my best clients felt the same way initially. What they found was that investing in themselves delivered returns far beyond the cost - better health, more energy, increased confidence."

Then ask: "Compared to what? What's the cost of not making this change?"

**"I need to think about it"**
"Absolutely, this is an important decision. What specifically would you like to think about? The timing? The investment? Let me address those now so you have all the information."

**"I don't have time"**
"I hear that a lot. Here's what I've found - you don't find time, you make it. And here's the truth: you'll either spend time now getting healthier, or spend more time later dealing with the consequences. My job is to make your sessions efficient and impactful."

**"I've tried before and failed"**
"That tells me you're committed to change - you keep trying. The difference this time is you'll have professional guidance, accountability, and a proven system. Let me show you how we'll make this time different."

**"Let me check with my partner"**
"Of course, they should be supportive of your health. Would it help if I spoke with both of you together? Or can I give you some materials to share with them?"`,
  },
};

export const MARKETING = {
  social_media: {
    title: "Social Media Marketing Mastery",
    content: `
**Content Pillars (The 3 E's)**
1. **Educate** - Share tips, form corrections, nutrition advice
2. **Entertain** - Behind the scenes, bloopers, personality
3. **Engage** - Ask questions, polls, respond to comments

**Posting Schedule**
- Instagram: 1 post + 3-5 stories daily
- TikTok/Reels: 1-2 videos daily (can repurpose)
- Facebook: 1 post every 2 days
- YouTube: 1 video weekly (long-form)

**Content Ideas That Work**
- Before/after transformations (with permission)
- "Day in the life" content
- Common mistakes in the gym
- Quick workout challenges
- Client spotlight/testimonials
- Myth busting
- Equipment reviews
- Progress tips
- Motivation and mindset

**Video Best Practices**
- Hook in first 3 seconds
- Text on screen for muted viewing
- Clear call to action
- Use trending sounds on Reels/TikTok
- Post during peak hours (6-8am, 5-8pm)`,
  },
  referrals: {
    title: "Building a Referral Machine",
    content: `
**Why Referrals Are Gold**
- 80% lower cost than advertising
- Higher conversion rate (trust transfer)
- Better client quality
- Faster relationship building

**When to Ask for Referrals**
- After a breakthrough/achievement
- When they give positive feedback
- At the 3-month mark
- Never when they're frustrated

**How to Ask**
"I'm so proud of your progress! I'm looking to help more people like you. Do you know anyone who might benefit from working with me?"

**Incentive Programs**
1. **Discount Model** - Both parties get 10-20% off
2. **Session Model** - Free session for each referral
3. **Credit Model** - Credit towards future services
4. **Gift Model** - Thank you gift (merchandise, experience)

**Make It Easy**
- Create shareable "Refer Me" links
- Provide social media graphics they can post
- Give them talking points
- Follow up and thank referrers promptly`,
  },
  local: {
    title: "Local Marketing Strategies",
    content: `
**Partnership Marketing**
Who to partner with:
- Physiotherapists & chiropractors
- Nutritionists & dietitians
- Supplement stores
- Athleisure boutiques
- Healthy cafes & juice bars
- Corporate offices
- Wedding planners (bridal fitness)

Partnership offers:
- Cross-referral agreements
- Discount codes for each other's clients
- Guest appearances or talks
- Collaborative events

**Community Engagement**
- Free outdoor bootcamps in parks
- Sponsor local sports teams
- Speak at community centers
- Charity fitness events
- Local fitness challenges

**Local SEO**
- Claim and optimize Google Business Profile
- Get reviews from every happy client
- Post to Google Business weekly
- Use local keywords in your content
- List in local directories`,
  },
  email: {
    title: "Email Marketing That Converts",
    content: `
**Email Types**
1. **Welcome Series** (Automated)
   - Email 1: Welcome + what to expect
   - Email 2: Your story and philosophy
   - Email 3: Free value (workout or tips)
   - Email 4: Soft offer

2. **Nurture Newsletter** (Weekly/Biweekly)
   - Helpful tips and content
   - Client success stories
   - Behind the scenes
   - Occasional offers

3. **Re-engagement** (Automated)
   - For leads who haven't converted
   - For past clients who've left

**Subject Lines That Work**
- Create curiosity: "The #1 mistake killing your gains"
- Promise value: "Your 10-minute fat-burning routine"
- Personalize: "[Name], your custom workout inside"
- Urgency: "Last chance: [offer] ends tonight"

**Email Structure**
1. Hook (first line is crucial)
2. Story or context
3. Value or insight
4. Clear call to action
5. PS (often the most read part)`,
  },
};

export const FITNESS_BUSINESS = {
  operations: {
    title: "Running a Professional PT Business",
    content: `
**Legal & Insurance**
- Professional indemnity insurance (mandatory)
- Public liability insurance
- ABN/Business registration
- Client liability waivers
- Privacy policy for client data

**Session Management**
- 24-48 hour cancellation policy
- Late policy (charge after 15 mins)
- Reschedule process
- No-show handling

**Client Onboarding**
1. Welcome email with what to expect
2. Health & fitness questionnaire
3. Goal setting session
4. Movement assessment
5. Program explanation
6. First training session

**Record Keeping**
- Client profiles and contact info
- Session notes and progress
- Program history
- Payment records
- Communication logs`,
  },
  retention: {
    title: "Client Retention Mastery",
    content: `
**The First 90 Days Are Critical**
Week 1-4: Establish habits, early wins
Week 5-8: Deepen relationship, adjust program
Week 9-12: Celebrate progress, discuss continuation

**Retention Tactics**
1. **Personalization**
   - Remember birthdays and life events
   - Customize programs to preferences
   - Note their favorite exercises

2. **Progress Tracking**
   - Monthly measurements/photos
   - Strength progress charts
   - Regular check-in conversations

3. **Value Beyond Sessions**
   - Nutrition guidance
   - Recovery tips
   - Mindset support
   - Lifestyle advice

4. **Community Building**
   - Client WhatsApp group
   - Monthly social events
   - Group challenges

5. **Preventing Churn**
   - Notice warning signs (missed sessions, low energy)
   - Proactive conversations about obstacles
   - Adjust programs before they get bored
   - Make leaving hard (in a good way)`,
  },
  professionalism: {
    title: "Professional Standards",
    content: `
**Communication Standards**
- Respond to inquiries within 1 hour
- Confirm sessions 24 hours ahead
- Be early to every session
- Dress professionally and hygienically

**Session Standards**
- Full attention on client (no phone)
- Prepared program in advance
- Progressive overload tracking
- Positive, encouraging energy
- Professional touch guidelines

**Boundaries**
- Keep relationships professional
- Don't date clients
- Maintain confidentiality
- Be cautious on social media
- Manage personal disclosure

**Continuing Education**
- Stay updated on fitness research
- Attend industry conferences
- Get additional certifications
- Learn from other trainers
- Read business books regularly`,
  },
  growth: {
    title: "Scaling Your PT Business",
    content: `
**Growth Stages**
1. **Survival** (0-10 clients)
   - Focus: Getting any clients
   - Priority: Learning to sell and deliver

2. **Stability** (10-20 clients)
   - Focus: Systems and consistency
   - Priority: Retention and referrals

3. **Growth** (20-40 clients)
   - Focus: Capacity management
   - Priority: Efficiency and premium pricing

4. **Scale** (40+ clients)
   - Focus: Leverage and delegation
   - Priority: Online programs, group training, hiring

**Scaling Options**
1. Raise prices (increase revenue per client)
2. Add group training (leverage time)
3. Create online programs (unlimited scale)
4. Hire trainers (multiply yourself)
5. Build a gym/studio (asset building)

**Time Management**
- Batch similar tasks
- Use templates for common responses
- Automate scheduling and payments
- Set boundaries on availability
- Protect thinking/planning time`,
  },
};

// Function to get relevant knowledge based on query
export function getRelevantKnowledge(query: string): string[] {
  const q = query.toLowerCase();
  const results: string[] = [];

  // Goal setting
  if (q.includes("goal") || q.includes("target") || q.includes("plan") || q.includes("okr") || q.includes("smart")) {
    if (q.includes("smart")) results.push(GOAL_SETTING.frameworks.smart.content);
    if (q.includes("okr")) results.push(GOAL_SETTING.frameworks.okr.content);
    if (q.includes("metric") || q.includes("track")) results.push(GOAL_SETTING.metrics.content);
    if (results.length === 0) {
      results.push(GOAL_SETTING.frameworks.smart.content);
      results.push(GOAL_SETTING.frameworks.backwards.content);
    }
  }

  // Selling
  if (q.includes("sell") || q.includes("sales") || q.includes("consultation") || q.includes("objection") || q.includes("price") || q.includes("pricing")) {
    if (q.includes("objection")) results.push(SELLING.objections.content);
    if (q.includes("consultation") || q.includes("close")) results.push(SELLING.consultation.content);
    if (q.includes("price") || q.includes("pricing")) results.push(SELLING.pricing.content);
    if (results.length === 0) results.push(SELLING.psychology.content);
  }

  // Marketing
  if (q.includes("market") || q.includes("social") || q.includes("referral") || q.includes("email") || q.includes("content") || q.includes("instagram") || q.includes("tiktok")) {
    if (q.includes("social") || q.includes("content") || q.includes("instagram") || q.includes("tiktok")) results.push(MARKETING.social_media.content);
    if (q.includes("referral")) results.push(MARKETING.referrals.content);
    if (q.includes("email") || q.includes("newsletter")) results.push(MARKETING.email.content);
    if (q.includes("local") || q.includes("partner")) results.push(MARKETING.local.content);
    if (results.length === 0) results.push(MARKETING.social_media.content);
  }

  // Business operations
  if (q.includes("retention") || q.includes("keep") || q.includes("churn")) {
    results.push(FITNESS_BUSINESS.retention.content);
  }
  if (q.includes("scale") || q.includes("grow") || q.includes("business")) {
    results.push(FITNESS_BUSINESS.growth.content);
  }
  if (q.includes("professional") || q.includes("standard") || q.includes("operation")) {
    results.push(FITNESS_BUSINESS.professionalism.content);
    results.push(FITNESS_BUSINESS.operations.content);
  }

  return results;
}

// Get topic summaries for quick reference
export function getTopicSummaries(): { category: string; topics: string[] }[] {
  return [
    {
      category: "Goal Setting",
      topics: ["SMART Goals Framework", "OKR Framework", "Backwards Planning", "Key Metrics"],
    },
    {
      category: "Selling",
      topics: ["Sales Psychology", "Consultation Process", "Strategic Pricing", "Objection Handling"],
    },
    {
      category: "Marketing",
      topics: ["Social Media Mastery", "Referral Programs", "Local Marketing", "Email Campaigns"],
    },
    {
      category: "Business Operations",
      topics: ["Professional Standards", "Client Retention", "Business Growth", "Operations Setup"],
    },
  ];
}
